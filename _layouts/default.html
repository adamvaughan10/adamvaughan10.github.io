<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-QY2Z1VHJ7P"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-QY2Z1VHJ7P');
</script>
  <meta charset="UTF-8">
  <title>{{ page.title }} | {{ site.title }}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,600;9..144,700&family=Space+Grotesk:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ '/assets/style.css' | relative_url }}">
</head>
<body>
  <div class="container">
    <header>
      <div class="site-head">
        <div>
          <p class="eyebrow">Portfolio</p>
          <h1>{{ site.title }}</h1>
          <p class="subtitle">{{ site.description }}</p>
        </div>
        <nav class="site-nav">
          <a href="{{ '/' | relative_url }}">Home</a>
          <a href="{{ '/about.html' | relative_url }}">About</a>
          <a href="{{ '/projects.html' | relative_url }}">Projects</a>
          <a href="{{ '/resume.html' | relative_url }}">Resume</a>
        </nav>
      </div>
      <div class="site-contact">
        <a href="mailto:adamvaughan2021@gmail.com">adamvaughan2021@gmail.com</a>
        <span>+1 408-663-7867</span>
        <a href="https://linkedin.com/in/adam-j-vaughan/">linkedin.com/in/adam-j-vaughan/</a>
      </div>
    </header>

    <main>
      {{ content }}
    </main>

    <footer>
      <p>Â© {{ site.title }}</p>
    </footer>
  </div>
  <script>
    (() => {
      const isViewerPage = window.location.pathname.includes('image-viewer');
      const isImage = (value) => {
        if (!value) {
          return false;
        }
        try {
          const path = new URL(value, window.location.origin).pathname.toLowerCase();
          return path.endsWith('.png') || path.endsWith('.jpg') || path.endsWith('.jpeg') || path.endsWith('.webp');
        } catch {
          return false;
        }
      };
      document.addEventListener('click', (event) => {
        if (isViewerPage) {
          return;
        }
        const image = event.target.closest('img');
        if (!image) {
          return;
        }
        if (image.closest('a') || image.closest('[data-no-viewer]')) {
          return;
        }
        const src = image.getAttribute('src');
        if (!isImage(src)) {
          return;
        }
        const caption = image.getAttribute('alt') || '';
        const viewerUrl = new URL("{{ '/image-viewer.html' | relative_url }}", window.location.origin);
        viewerUrl.searchParams.set('src', src);
        if (caption) {
          viewerUrl.searchParams.set('caption', caption);
        }
        window.location.href = viewerUrl.toString();
      });
    })();
  </script>
</body>
</html>
